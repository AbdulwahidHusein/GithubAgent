2025-03-29 01:05:03,500 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:05:03,501 - github_agent - INFO - Query: 'what is the last commit'
2025-03-29 01:05:10,509 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:05:10,519 - github_agent - INFO - Tool called: list_commits for AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:05:12,331 - github_agent - ERROR - Error in list_commits: None - path type: <class 'NoneType'>
2025-03-29 01:05:12,338 - github_agent - ERROR - Error in analyze_repository_sync: None
2025-03-29 01:05:12,426 - github_agent - ERROR - Traceback (most recent call last):
  File "C:\Users\user\Documents\Codes\github-agent\agent.py", line 459, in analyze_repository_sync
    result = github_agent.run_sync(query, deps=deps)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 542, in run_sync
    return get_event_loop().run_until_complete(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.run(
        ^^^^^^^^^
    ...<9 lines>...
        )
        ^
    )
    ^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 308, in run
    async for _ in agent_run:
        pass
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 1329, in __anext__
    next_node = await self._graph_run.__anext__()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 737, in __anext__
    return await self.next(self._next_node)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 726, in next
    self._next_node = await self.graph.next(node, history, state=state, deps=deps, infer_name=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 305, in next
    next_node = await node.run(ctx)
                ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 372, in run
    async with self.stream(ctx):
               ~~~~~~~~~~~^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 221, in __aexit__
    await anext(self.gen)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 388, in stream
    async for _event in stream:
        pass
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 438, in _run_stream
    async for event in self._events_iterator:
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 428, in _run_stream
    async for event in self._handle_tool_calls(ctx, tool_calls):
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 467, in _handle_tool_calls
    async for event in process_function_tools(
    ...<6 lines>...
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 630, in process_function_tools
    result = task.result()
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\tools.py", line 286, in run
    response_content = await _utils.run_in_executor(function, *args, **kwargs)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_utils.py", line 28, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(None, partial(func, *args, **kwargs))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\concurrent\futures\thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\user\Documents\Codes\github-agent\agent.py", line 284, in list_commits
    commits = github_utils.list_repository_commits(
        repo_name=repo_name,
        path=path,
        token=ctx.deps.token
    )
  File "C:\Users\user\Documents\Codes\github-agent\github_utils.py", line 236, in list_repository_commits
    commits = repo.get_commits(path=path)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\github\Repository.py", line 2348, in get_commits
    assert is_optional(path, str), path
           ~~~~~~~~~~~^^^^^^^^^^^
AssertionError: None

2025-03-29 01:12:08,971 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=9, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B45550>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:08,979 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=8, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3E850>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:08,985 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=7, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3EC10>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:08,998 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=6, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3EE90>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:09,066 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=5, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3F110>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:09,074 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3F390>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:09,082 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3F610>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:09,089 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3F890>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:09,096 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3FB10>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:09,104 - urllib3.connectionpool - WARNING - Retrying (GithubRetry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001AA76B3FD90>: Failed to resolve 'api.github.com' ([Errno 11001] getaddrinfo failed)")': /user/repos
2025-03-29 01:12:25,768 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:12:25,769 - github_agent - INFO - Query: 'how many commits are there'
2025-03-29 01:12:32,672 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:12:32,685 - github_agent - INFO - Tool called: list_commits for AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:12:47,026 - github_agent - INFO - list_commits completed in 14.34s. Found 8 commits.
2025-03-29 01:12:51,103 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:12:51,111 - github_agent - INFO - Completed sync analysis in 25.34s
2025-03-29 01:12:51,112 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:13:08,487 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:13:08,487 - github_agent - INFO - Query: 'how many issue are there '
2025-03-29 01:13:15,064 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:13:15,069 - github_agent - INFO - Tool called: list_issues for AbdulwahidHusein/3rdyrPortfolio with state: all
2025-03-29 01:13:17,727 - github_agent - INFO - list_issues completed in 2.66s. Found 0 issues.
2025-03-29 01:13:19,670 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:13:19,675 - github_agent - INFO - Completed sync analysis in 11.19s
2025-03-29 01:13:19,676 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:13:54,773 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:13:54,774 - github_agent - INFO - Query: 'could you scan the codebase and find any security vulnerablityu'
2025-03-29 01:14:00,326 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:14:00,331 - github_agent - INFO - Tool called: search_code in AbdulwahidHusein/3rdyrPortfolio with query: 'security'
2025-03-29 01:14:01,554 - github_agent - INFO - search_code completed in 1.22s. No code matches found for 'security' in the repository.
2025-03-29 01:14:04,216 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:14:04,221 - github_agent - INFO - Tool called: search_code in AbdulwahidHusein/3rdyrPortfolio with query: 'vulnerab'
2025-03-29 01:14:05,344 - github_agent - INFO - search_code completed in 1.12s. No code matches found for 'vulnerab' in the repository.
2025-03-29 01:14:07,491 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:14:07,496 - github_agent - INFO - Tool called: analyze_issues for AbdulwahidHusein/3rdyrPortfolio with query: 'security', state: annotation=NoneType required=False default='all' description='Filter issues by state (open, closed, all)'
2025-03-29 01:14:07,497 - github_agent - INFO - Tool called: analyze_commits for AbdulwahidHusein/3rdyrPortfolio with query: 'security', path: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory'
2025-03-29 01:14:07,502 - github_agent - INFO - Tool called: analyze_commits for AbdulwahidHusein/3rdyrPortfolio with query: 'vulnerab', path: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory'
2025-03-29 01:14:08,625 - github_agent - ERROR - Error in analyze_commits: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory' - path type: <class 'pydantic.fields.FieldInfo'>
2025-03-29 01:14:08,626 - github_agent - ERROR - Error in analyze_issues: annotation=NoneType required=False default='all' description='Filter issues by state (open, closed, all)'
2025-03-29 01:14:08,629 - github_agent - ERROR - Error in analyze_commits: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory' - path type: <class 'pydantic.fields.FieldInfo'>
2025-03-29 01:14:08,634 - github_agent - ERROR - Error in analyze_repository_sync: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory'
2025-03-29 01:14:08,645 - github_agent - ERROR - Traceback (most recent call last):
  File "C:\Users\user\Documents\Codes\github-agent\agent.py", line 459, in analyze_repository_sync
    result = github_agent.run_sync(query, deps=deps)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 542, in run_sync
    return get_event_loop().run_until_complete(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.run(
        ^^^^^^^^^
    ...<9 lines>...
        )
        ^
    )
    ^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 308, in run
    async for _ in agent_run:
        pass
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 1329, in __anext__
    next_node = await self._graph_run.__anext__()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 737, in __anext__
    return await self.next(self._next_node)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 726, in next
    self._next_node = await self.graph.next(node, history, state=state, deps=deps, infer_name=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 305, in next
    next_node = await node.run(ctx)
                ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 372, in run
    async with self.stream(ctx):
               ~~~~~~~~~~~^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 221, in __aexit__
    await anext(self.gen)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 388, in stream
    async for _event in stream:
        pass
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 438, in _run_stream
    async for event in self._events_iterator:
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 428, in _run_stream
    async for event in self._handle_tool_calls(ctx, tool_calls):
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 467, in _handle_tool_calls
    async for event in process_function_tools(
    ...<6 lines>...
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 630, in process_function_tools
    result = task.result()
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\tools.py", line 286, in run
    response_content = await _utils.run_in_executor(function, *args, **kwargs)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_utils.py", line 28, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(None, partial(func, *args, **kwargs))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\concurrent\futures\thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\user\Documents\Codes\github-agent\agent.py", line 318, in analyze_commits
    commits = github_utils.list_repository_commits(
        repo_name=repo_name,
        path=path,
        token=ctx.deps.token
    )
  File "C:\Users\user\Documents\Codes\github-agent\github_utils.py", line 238, in list_repository_commits
    commits = repo.get_commits(path=path)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\github\Repository.py", line 2348, in get_commits
    assert is_optional(path, str), path
           ~~~~~~~~~~~^^^^^^^^^^^
AssertionError: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory'

2025-03-29 01:14:43,935 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:14:43,936 - github_agent - INFO - Query: 'do you udnerstand what i mean'
2025-03-29 01:14:50,091 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:14:50,096 - github_agent - INFO - Tool called: get_repo_details for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:14:53,797 - github_agent - INFO - Successfully retrieved details for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:14:55,253 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:14:55,257 - github_agent - INFO - Tool called: list_directory_contents for AbdulwahidHusein/3rdyrPortfolio with path: /
2025-03-29 01:14:57,569 - github_agent - INFO - list_directory_contents completed in 2.31s. Found 7 items.
2025-03-29 01:14:59,053 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:14:59,059 - github_agent - INFO - Tool called: list_issues for AbdulwahidHusein/3rdyrPortfolio with state: all
2025-03-29 01:15:01,246 - github_agent - INFO - list_issues completed in 2.19s. Found 0 issues.
2025-03-29 01:15:02,579 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:15:02,582 - github_agent - INFO - Tool called: list_commits for AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:15:15,782 - github_agent - INFO - list_commits completed in 13.20s. Found 8 commits.
2025-03-29 01:15:24,324 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:15:24,332 - github_agent - INFO - Completed sync analysis in 40.39s
2025-03-29 01:15:24,332 - github_agent - INFO - Answer confidence: 0.90
2025-03-29 01:15:24,398 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='analyze_issues' coro=<Tool.run() running at C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\tools.py:286> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\asyncio\futures.py:384, Task.task_wakeup()]>>
2025-03-29 01:15:24,400 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='analyze_commits' coro=<Tool.run() running at C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\tools.py:286> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\asyncio\futures.py:384, Task.task_wakeup()]>>
2025-03-29 01:18:38,681 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:18:38,682 - github_agent - INFO - Query: 'hello'
2025-03-29 01:18:44,380 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:18:44,397 - github_agent - INFO - Completed sync analysis in 5.72s
2025-03-29 01:18:44,398 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:19:15,556 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:19:15,557 - github_agent - INFO - Query: 'how many commits are there can you tell me how well commit messages are'
2025-03-29 01:19:21,451 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:19:21,456 - github_agent - INFO - Tool called: list_commits for AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:19:34,539 - github_agent - INFO - list_commits completed in 13.08s. Found 8 commits.
2025-03-29 01:19:37,217 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:19:37,223 - github_agent - INFO - Tool called: analyze_commits for AbdulwahidHusein/3rdyrPortfolio with query: 'commit message quality', path: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory'
2025-03-29 01:19:38,347 - github_agent - ERROR - Error in analyze_commits: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory' - path type: <class 'pydantic.fields.FieldInfo'>
2025-03-29 01:19:38,356 - github_agent - ERROR - Error in analyze_repository_sync: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory'
2025-03-29 01:19:38,365 - github_agent - ERROR - Traceback (most recent call last):
  File "C:\Users\user\Documents\Codes\github-agent\agent.py", line 459, in analyze_repository_sync
    result = github_agent.run_sync(query, deps=deps)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 542, in run_sync
    return get_event_loop().run_until_complete(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.run(
        ^^^^^^^^^
    ...<9 lines>...
        )
        ^
    )
    ^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 308, in run
    async for _ in agent_run:
        pass
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\agent.py", line 1329, in __anext__
    next_node = await self._graph_run.__anext__()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 737, in __anext__
    return await self.next(self._next_node)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 726, in next
    self._next_node = await self.graph.next(node, history, state=state, deps=deps, infer_name=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_graph\graph.py", line 305, in next
    next_node = await node.run(ctx)
                ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 372, in run
    async with self.stream(ctx):
               ~~~~~~~~~~~^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 221, in __aexit__
    await anext(self.gen)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 388, in stream
    async for _event in stream:
        pass
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 438, in _run_stream
    async for event in self._events_iterator:
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 428, in _run_stream
    async for event in self._handle_tool_calls(ctx, tool_calls):
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 467, in _handle_tool_calls
    async for event in process_function_tools(
    ...<6 lines>...
        yield event
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_agent_graph.py", line 630, in process_function_tools
    result = task.result()
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\tools.py", line 286, in run
    response_content = await _utils.run_in_executor(function, *args, **kwargs)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\pydantic_ai\_utils.py", line 28, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(None, partial(func, *args, **kwargs))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python313\Lib\concurrent\futures\thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\user\Documents\Codes\github-agent\agent.py", line 318, in analyze_commits
    commits = github_utils.list_repository_commits(
        repo_name=repo_name,
        path=path,
        token=ctx.deps.token
    )
  File "C:\Users\user\Documents\Codes\github-agent\github_utils.py", line 238, in list_repository_commits
    commits = repo.get_commits(path=path)
  File "C:\Users\user\Documents\Codes\github-agent\venv\Lib\site-packages\github\Repository.py", line 2348, in get_commits
    assert is_optional(path, str), path
           ~~~~~~~~~~~^^^^^^^^^^^
AssertionError: annotation=NoneType required=False default=None description='Optional path to filter commits by file or directory'

2025-03-29 01:24:11,267 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:24:11,268 - github_agent - INFO - Query: 'hello'
2025-03-29 01:24:18,492 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:24:18,503 - github_agent - INFO - Completed sync analysis in 7.23s
2025-03-29 01:24:18,504 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:24:33,166 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:24:33,166 - github_agent - INFO - Query: 'how good are commit messages'
2025-03-29 01:24:43,019 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:24:43,025 - github_agent - INFO - Tool called: analyze_commits for AbdulwahidHusein/3rdyrPortfolio with query: 'commit message quality'
2025-03-29 01:24:56,502 - github_agent - INFO - analyze_commits completed in 13.48s. No commits found matching 'commit message quality'
2025-03-29 01:24:58,751 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:24:58,754 - github_agent - INFO - Tool called: list_commits for AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:25:11,861 - github_agent - INFO - list_commits completed in 13.11s. Found 8 commits.
2025-03-29 01:25:19,540 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:25:19,550 - github_agent - INFO - Completed sync analysis in 46.38s
2025-03-29 01:25:19,551 - github_agent - INFO - Answer confidence: 0.80
2025-03-29 01:26:09,033 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:26:09,034 - github_agent - INFO - Query: 'what was the most recent among those'
2025-03-29 01:26:15,193 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:26:15,199 - github_agent - INFO - Tool called: list_commits for AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:26:15,199 - github_agent - INFO - Tool called: list_issues for AbdulwahidHusein/3rdyrPortfolio with state: all
2025-03-29 01:26:17,397 - github_agent - INFO - list_issues completed in 2.19s. Found 0 issues.
2025-03-29 01:26:28,138 - github_agent - INFO - list_commits completed in 12.94s. Found 8 commits.
2025-03-29 01:26:31,301 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:26:31,307 - github_agent - INFO - Completed sync analysis in 22.27s
2025-03-29 01:26:31,308 - github_agent - INFO - Answer confidence: 0.95
2025-03-29 01:27:10,319 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:27:10,320 - github_agent - INFO - Query: 'what is the capital city of us i got confuesed most of the time'
2025-03-29 01:27:17,182 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:27:17,190 - github_agent - INFO - Completed sync analysis in 6.87s
2025-03-29 01:27:17,191 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:27:25,295 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:27:25,296 - github_agent - INFO - Query: 'what about ethiopia'
2025-03-29 01:27:30,782 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:27:30,786 - github_agent - INFO - Tool called: search_code in AbdulwahidHusein/3rdyrPortfolio with query: 'Ethiopia'
2025-03-29 01:27:32,049 - github_agent - INFO - search_code completed in 1.26s. No code matches found for 'Ethiopia' in the repository.
2025-03-29 01:27:33,377 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:27:33,382 - github_agent - INFO - Tool called: analyze_issues for AbdulwahidHusein/3rdyrPortfolio with query: 'Ethiopia', state: all
2025-03-29 01:27:35,690 - github_agent - INFO - analyze_issues completed in 2.31s. No issues found matching 'Ethiopia' with state 'all'.
2025-03-29 01:27:37,165 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:27:37,169 - github_agent - INFO - Tool called: analyze_commits for AbdulwahidHusein/3rdyrPortfolio with query: 'Ethiopia'
2025-03-29 01:27:50,721 - github_agent - INFO - analyze_commits completed in 13.55s. No commits found matching 'Ethiopia'
2025-03-29 01:27:53,448 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:27:53,456 - github_agent - INFO - Completed sync analysis in 28.16s
2025-03-29 01:27:53,457 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:36:44,492 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:36:44,517 - github_agent - INFO - Successfully saved 3 messages to chat_history\AbdulwahidHusein_3rdyrPortfolio_history.json
2025-03-29 01:36:53,532 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:36:53,539 - github_agent - INFO - Successfully saved 6 messages to chat_history\AbdulwahidHusein_3rdyrPortfolio_history.json
2025-03-29 01:39:57,135 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:39:57,137 - github_agent - INFO - Query: 'how many commits do we have'
2025-03-29 01:39:57,138 - github_agent - INFO - Using message history: False
2025-03-29 01:40:03,147 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:40:03,159 - github_agent - INFO - Tool called: list_commits for AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:40:15,947 - github_agent - INFO - list_commits completed in 12.79s. Found 8 commits.
2025-03-29 01:40:21,987 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:40:21,992 - github_agent - INFO - Completed sync analysis in 24.85s
2025-03-29 01:40:21,992 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:40:21,995 - github_agent - INFO - Successfully saved 5 messages to chat_history\AbdulwahidHusein_3rdyrPortfolio_history.json
2025-03-29 01:45:43,485 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:45:43,487 - github_agent - INFO - Query: 'hello'
2025-03-29 01:45:43,489 - github_agent - INFO - Using message history: False
2025-03-29 01:45:49,872 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:45:49,879 - github_agent - INFO - Tool called: get_repo_details for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:45:53,587 - github_agent - INFO - Successfully retrieved details for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:45:55,379 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:45:55,387 - github_agent - INFO - Completed sync analysis in 11.90s
2025-03-29 01:45:55,388 - github_agent - INFO - Answer confidence: 0.90
2025-03-29 01:45:55,388 - github_agent - ERROR - Error in analyze_repository_sync: 'function' object has no attribute 'request_tokens'
2025-03-29 01:45:55,392 - github_agent - ERROR - Traceback (most recent call last):
  File "C:\Users\user\Documents\Codes\github-agent\agent.py", line 503, in analyze_repository_sync
    logger.info(f"Token usage - Request: {result.usage.request_tokens}, Response: {result.usage.response_tokens}, Total: {result.usage.total_tokens}")
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'function' object has no attribute 'request_tokens'

2025-03-29 01:50:12,214 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:50:12,215 - github_agent - INFO - Query: 'hello'
2025-03-29 01:50:12,215 - github_agent - INFO - Using message history: False
2025-03-29 01:50:19,286 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:50:19,297 - github_agent - INFO - Completed sync analysis in 7.08s
2025-03-29 01:50:19,298 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:50:19,299 - github_agent - INFO - Token usage - Request: 758, Response: 54, Total: 812
2025-03-29 01:50:19,301 - github_agent - INFO - Successfully saved 3 messages to chat_history\AbdulwahidHusein_3rdyrPortfolio_history.json
2025-03-29 01:50:54,934 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:50:54,936 - github_agent - INFO - Query: 'how many commits are there'
2025-03-29 01:50:54,937 - github_agent - INFO - Using message history: True
2025-03-29 01:50:57,277 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:50:57,282 - github_agent - INFO - Tool called: list_commits for AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:51:09,545 - github_agent - INFO - list_commits completed in 12.26s. Found 8 commits.
2025-03-29 01:51:11,406 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:51:11,414 - github_agent - INFO - Completed sync analysis in 16.48s
2025-03-29 01:51:11,415 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:51:11,416 - github_agent - INFO - Token usage - Request: 2663, Response: 69, Total: 2732
2025-03-29 01:51:11,419 - github_agent - INFO - Successfully saved 8 messages to chat_history\AbdulwahidHusein_3rdyrPortfolio_history.json
2025-03-29 01:51:41,009 - github_agent - INFO - Starting sync analysis for repository AbdulwahidHusein/3rdyrPortfolio
2025-03-29 01:51:41,010 - github_agent - INFO - Query: 'hello who are you'
2025-03-29 01:51:41,011 - github_agent - INFO - Using message history: True
2025-03-29 01:51:43,222 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-29 01:51:43,242 - github_agent - INFO - Completed sync analysis in 2.23s
2025-03-29 01:51:43,243 - github_agent - INFO - Answer confidence: 1.00
2025-03-29 01:51:43,244 - github_agent - INFO - Token usage - Request: 1903, Response: 69, Total: 1972
2025-03-29 01:51:43,248 - github_agent - INFO - Successfully saved 11 messages to chat_history\AbdulwahidHusein_3rdyrPortfolio_history.json
